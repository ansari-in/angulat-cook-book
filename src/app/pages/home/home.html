  <div class="container my-4">
  <!-- Search + Tag search -->
  <!-- <div class="row align-items-center mb-3 gx-3">
    <div class="col-md-6 mb-2">
      <input class="form-control form-control-lg" placeholder="Search recipes by name or ingredient..." (input)="onSearch($any($event.target).value)">
    </div>
    <div class="col-md-6 text-md-end">
      <button *ngIf="selectedTag" class="btn btn-sm btn-light me-2" (click)="clearTag()">Clear Tag • {{selectedTag}}</button>
    </div>
  </div> -->

  <div class="row mb-3">
    <div class="col-12">
      <div class="d-flex align-items-center mb-2 gap-2">
        <input class="form-control form-control-sm me-2" placeholder="Search tags..." [(ngModel)]="tagQuery" (ngModelChange)="onTagSearchChange()" style="max-width:320px;">
        <small class="text-muted">Filter tags</small>
      </div>

      <div class="tags-container">
        <button *ngFor="let t of filteredTags" (click)="onTagSelect(t)"
                class="tag-btn" [ngClass]="{'active': t===selectedTag}" style="white-space:nowrap;">
          {{t}}
        </button>
      </div>
    </div>
  </div>

  <!-- Cards -->
  <div class="row g-3">
    <div class="col-12 col-sm-6 col-md-4 col-lg-3" *ngFor="let r of recipes">
      <a [routerLink]="['/recipe', r.id]" class="card-link">
        <div class="card recipe h-100">
          <img [src]="r.image" class="card-img-top" alt="{{r.name}}">
          <div class="card-body d-flex flex-column">
            <div>
              <div class="title">{{ r.name }}</div>
              <div class="meta">{{ r.cuisine || 'Various' }} • {{ r.difficulty || 'N/A' }}</div>
            </div>
            <p class="mt-2 mb-3 text-muted small" *ngIf="r.instructions?.length">{{ r.instructions[0] | slice:0:110 }}...</p>
            <div class="mt-auto d-flex justify-content-between align-items-center">
              <small class="text-muted">{{ r.rating }} ★ • {{ r.reviewCount }} reviews</small>
              <span class="badge bg-light text-dark">{{ r.mealType?.[0] || '' }}</span>
            </div>
          </div>
        </div>
      </a>
    </div>
  </div>

  <div class="text-center mt-4">
    <button class="btn btn-lg btn-outline-secondary" (click)="loadMore()" [disabled]="loading || skip + limit >= total">
      {{ loading ? 'Loading...' : (skip + limit >= total ? 'No more' : 'Load more') }}
    </button>
  </div>
</div>
